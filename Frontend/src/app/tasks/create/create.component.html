
<mat-spinner *ngIf="isLoading"></mat-spinner>

<mat-card *ngIf="!isLoading">
    <form [formGroup]="taskForm" (submit)="onSaveTask()">

    <mat-form-field>
        <mat-label>
          New Task
        </mat-label>

        <input
        matInput
        type="text"
        formControlName="title"
        placeholder="Type your task title" >

        <mat-error *ngIf="taskForm.get('title').invalid">
            Please enter the name of the task.
        </mat-error>
    </mat-form-field>

    <div class="flex">
        <button
        type="button"
        mat-stroked-button
        (click)="filePicker.click()">
        Pick Image
        </button>
        <input type="file" #filePicker (change)="onImagePicked($event)">

        <!-- additional feature -->
        <mat-form-field class="time-field">
          <mat-label>Time (Optional)</mat-label>
          <input type="time"
          matInput
          formControlName="time">
        </mat-form-field>
        <!-- additional feature -->

    </div>

    <!-- Image Preview section -->
    <div class="image-preview" *ngIf="imagePreview && imagePreview !== '' ">
        <img [src]="imagePreview" [alt]="taskForm.value.title" />
    </div>
    <!--------------->

    <mat-form-field class="example-full-width">

        <mat-label>
          Description
        </mat-label>

        <textarea
        matInput
        formControlName="description"
        rows="4"
        maxlength="350"
        placeholder="Type your task description">
        </textarea>



        <mat-error *ngIf="taskForm.get('description').invalid">
          Please enter the description of the task. (10 - 350 characters.)
        </mat-error>

    </mat-form-field>
    <br>

    <button mat-raised-button color="primary" type="submit">
      <mat-icon aria-hidden="false" aria-label="Example edit icon" fontIcon="edit">
      </mat-icon>

      {{mode | uppercase}}

    </button>
    <button mat-button color="warn" type="reset">
      Clear
      <mat-icon aria-hidden="false" aria-label="Example clear icon" fontIcon="clear">
      </mat-icon>
    </button>


</form>
</mat-card>

